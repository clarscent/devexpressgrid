<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Reading Grid With CheckBox</title>
    <script src="js/jquery-3.5.1.min.js"></script>
    <script src="js/lodash-4.17.15.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/dx.common.css"/>
    <link rel="dx-theme" data-theme="generic.light" href="css/dx.light.css"/>
    <link rel="stylesheet" type="text/css" href="css/grid.css"/>
    <script src="js/dx.all.js"></script>
    <script src="readingGrid.js"></script>
    <script src="readingGridData.js"></script>
</head>
<body>

<body class="dx-viewport">

<div class="demo-container">
    <div id="headerTest">
        <div id="headerTestContainer" style="height: 500px"></div>
    </div>
</div>
<p>결과 값은 콘솔창</p>
<button onclick="onGetGridData(gridId)">getGridData</button>
<button onclick="onGetCheckedData(gridId)">onGetCheckedData</button>
<button onclick="onAddRow(gridId, obj)">onAddRowWithParameter</button>
<button onclick="onAddRow(gridId, {})">onAddEmptyRow</button>

<script>
    var gridId = "#headerTestContainer";
    var obj = {
        "ID": 11,
        "Country": "United",
        "Area": 244820,
        "Population_Urban": 0.82,
        "Population_Rural": 0.18,
        "Population_Total": 65097000,
        "GDP_Agriculture": 0.007,
        "GDP_Industry": 0.21,
        "GDP_Services": 0.783,
        "GDP_Total": 2945146,
        "Picture": "css/images/cat01.jpg"
    };

    $(function () {

        let headers  = new Array();
        let columns  = new Array();
        let headerCss = new Array();

        headers = [
            new Header.config.set("Country"),
            new Header.config.set("Area"),
            new Header.config.set("국가총생산", [
                new Header.config.set("Population_Total"),
                new Header.config.set("Population_Urban"),
            ]),
            new Header.config.set("일반\nGDP", [
                new Header.config.set("GDP_Total"),
                new Header.config.set("분야", [
                    new Header.config.set("GDP_Agriculture"),
                    new Header.config.set("GDP_Industry"),
                    new Header.config.set("GDP_Services"),
                ]),
            ]),
        ];

        columns = [
            new Column.config.set("국가","Country","300px","text"),
            new Column.config.set("지역","Area","100px","number"),
            new Column.config.set("인구 합","Population_Total","150px","number"),
            new Column.config.set("인구(외곽)","Population_Urban","150px","percent"),
            new Column.config.set("GDP 총합","GDP_Total","150px","number"),
            new Column.config.set("농업","GDP_Agriculture","150px","number"),
            new Column.config.set("산업","GDP_Industry","150px","number"),
            new Column.config.set("서비스업","GDP_Services","150px","number"),
        ];

        Grid.config.setGrid(gridId, "", 500, true);
        Grid.config.setColumns(gridId, columns);
        Grid.config.setHeaders(gridId, columns, headers);
        Grid.config.setGridData(gridId, countries, "ID");

        headerCss = [
            new Attribute("background-color", "#f5f5f5")
        ]
        Header.config.setHeaderCss(gridId, headerCss);
    });

    function onGetGridData(gridId) {
        Grid.method.getGridData(gridId);
    }
    function onGetCheckedData(gridId) { //
        Grid.method.getCheckedData(gridId);
    }
    function onAddRow(gridId, obj) {
        Grid.method.addRow(gridId, obj);
    }

    // listener.grid.oncRowClick = function() {
    //     alert("로우클릭");
    // }

</script>

</body>
</html>